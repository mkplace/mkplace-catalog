<!DOCTYPE html>
<html ng-app="catalog" ng-controller="main">
	<head>
		{% include 'components/tag-head.html' %}
		<title>Madel - Checkout</title>
		<style>.table>tbody>tr>td,.table>tfoot>tr>td{vertical-align:middle}</style>
	</head>
	<body ng-controller="shoppingcart">
		<div class="modal fade" id="addAddress" tabindex="-1" role="dialog" aria-labelledby="formModalLabel" aria-hidden="true" data-backdrop="static" data-keyboard="true">
			<div class="modal-dialog">
				<div class="modal-content">
					<div class="modal-header">
						<h4 class="modal-title">Adicionar novo endereço</h4>
					</div>
					<div class="modal-body">
						<form class="form">
							<div class="row">
								<div class="col-sm-4">
									<div class="form-group">
										<label>CEP</label>
										<input type="text" ng-model="customer.address.new.zipcode">
									</div>
								</div>
								<div class="col-sm-4">
									<div class="form-group">
										<label>Endereço</label>
										<input type="text" ng-model="customer.address.new.address">
									</div>
								</div>
								<div class="col-sm-4">
									<div class="form-group">
										<label>Número</label>
										<input type="text" ng-model="customer.address.new.number">
									</div>
								</div>
								<div class="col-sm-4">
									<div class="form-group">
										<label>Complemento</label>
										<input type="text" ng-model="customer.address.new.complement">
									</div>
								</div>
								<div class="col-sm-4">
									<div class="form-group">
										<label>Bairro</label>
										<input type="text" ng-model="customer.address.new.neighborhood">
									</div>
								</div>
								<div class="col-sm-4">
									<div class="form-group">
										<label>Cidade</label>
										<input type="text" ng-model="customer.address.new.city">
									</div>
								</div>
								<div class="col-sm-4">
									<div class="form-group">
										<label>Estado</label>
										<input type="text" ng-model="customer.address.new.state">
									</div>
								</div>
							</div>
						</form>
					</div>
					<div class="modal-footer">
						<button type="button" class="btn primary-btn waves-effect" ng-click="customer.address.add()">Adicionar</button>
						<button type="button" class="btn btn-transparent waves-effect" data-dismiss="modal" ng-click="customer.address.new = {};">Cancelar</button>
					</div>
				</div>
			</div>
		</div>
		<div class=row-fluid>
			<div class="container" style="border-bottom:1px solid #f5f5f5">
				<div class=col-md-3 style=top:15px>
					<a href="/"><img src=/assets/images/logo-1.png style="width:130px; margin-top:-10px"></a>
				</div>
				<div class=col-md-6>
					<nav>
						<ol class="cd-multi-steps text-bottom">
							<li class=visited><a href=#0>CARRINHO</a></li>
							<li class=visited><a href=#0>IDENTIFICAÇÃO</a></li>
							<li ng-class="{'current' : !shoppingcart.checkout.address.id, 'visited' : shoppingcart.checkout.address.id}"><a href=#0>ENDEREÇO</a></li>
							<li ng-class="{'current' : shoppingcart.checkout.address.id}"><a href=#0>PAGAMENTO</a></li>
						</ol>
					</nav>
				</div>
				<div class=col-md-3 style="top:26px; right: -15px ;  text-align: right;">
					<img src=/madel-assets/img/ambiente_seguro.png>
				</div>
			</div>
		</div>
		<div class="container" ng-controller="address">
			<div class="col-md-9 mt-20" ng-class="{'hide' : shoppingcart.checkout.address.id}">
				<div class="row-fake">
					<div class="primary-color col-sm-12 mb-10">Meus endereços:</div>
					<div class="col-md-4" style="font-size:12px" ng-repeat="address in customer.address.list" ng-click="customer.address.selected = address">
						<div class="well well-sm address active">
							<div class="row">
								<div class="col-md-12">
									<span class="bullet-check"><span ng-class="{'checked' : customer.address.selected == address}"></span></span> <b>[[address.address]]</b>
								</div>
								<div class="col-md-12">
									[[address.address]], [[address.number]]<br>
									[[address.neighborhood]] - [[address.city]] - [[address.state]]<br>
									CEP [[address.zipcode]]
								</div>
							</div>
							<button class="btn primary-btn btn-block btn-address" ng-click="shoppingcart.checkout.address = address" ng-if="customer.address.selected == address">AVANÇAR</button>
						</div>
					</div>
					<div class="col-md-4" style="font-size:12px">
						<div class="well well-sm address" style="border:1px dashed black;padding:40px" ng-click="customer.address.add_modal()">
							<div class="row">
								<div class="col-md-12 text-center">
									<span style="font-size:30px" class="glyphicon glyphicon-plus-sign"></span>
								</div>
								<div class="col-md-12 text-center">
									Inserir novo endereço
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
			<div class="col-md-9 hide" ng-class="{'hide' : !shoppingcart.checkout.address.id}">
				<div class="primary-color col-md-12 mb-10 mt-20">Endereço de entrega selecionado:</div>
				<div class="col-md-4" style="font-size:12px">
					<div class="well well-sm address active">
						<div class="row">
							<div class="col-md-12"><b>[[shoppingcart.checkout.address.address]]</b></div>
							<div class="col-md-12">
								[[shoppingcart.checkout.address.address]], [[shoppingcart.checkout.address.number]]<br>
								[[shoppingcart.checkout.address.neighborhood]] - [[shoppingcart.checkout.address.city]] - [[shoppingcart.checkout.address.state]]<br>
								CEP [[shoppingcart.checkout.address.zipcode]]
							</div>
						</div>
						<button class="btn primary-btn btn-block btn-address" ng-click="shoppingcart.checkout.address = undefined">TROCAR ENDEREÇO</button>
					</div>
				</div>
				<div ng-show="shoppingcart.simulation.without_sla.length > 0">
					<div class="primary-color col-md-12 mb-20 mt-0">
						Verifique os itens abaixo antes de prosseguir:
					</div>
					<div class="col-md-12">
						<div class="row">
							<div class=col-sm-2 ng-repeat="item in shoppingcart.items" ng-if="shoppingcart.simulation.without_sla.indexOf(item.offer.id) != -1">
			                    <div>
									<div class="mb-5 thumbnail">
			                            <img style="width:90px; height:90px; opacity:0.3;" ng-src="[[item.sku.image_path]]" alt=...>
										<div class=quantity style="border:none; margin-top:-30px;">
											<span class="glyphicon glyphicon-minus-sign icon" ng-click="shoppingcart.item_quantity_update(item.offer.id, item.quantity - 1)"></span>
											<span class=value><input type="text" ng-model="item.quantity" style="border:none; width:20px; text-align:center; background:transparent"></span>
											<span class="glyphicon glyphicon-plus-sign icon" ng-click="shoppingcart.item_quantity_update(item.offer.id, item.quantity + 1)"></span>
										</div>
			                        </div>
									<a href="javascript:;" ng-click="shoppingcart.item_quantity_update(item.offer.id, 0)" class="primary-color"><small>remover</small></a><br>
									<small ng-bind="item.sku.name"></small>
			                    </div>
			                </div>
						</div>
					</div>
					<div class="col-sm-12">
						<hr>
						<small class="text-muted">Alguns produtos podem estar indisponíveis para o destino escolhido, você pode tentar:<br />
							<ul>
								<li>Alterar a quantidade escolhida <strong>ou</strong> remover o item indisponível</li>
								<li>Escolher outro endereço de entrega</li>
							</ul>
						</small>
					</div>
				</div>

				<div class="primary-color col-md-12 mb-20 mt-20" ng-show="shoppingcart.simulation.without_sla.length == 0">Seleciona a forma de pagamento</div>
				<div class=row-fake ng-show="shoppingcart.simulation.without_sla.length == 0">
					<div class="col-md-4 text-right">
						<button class="well btn btn-gray btn-lg col-md-12 no-border"><i class="fa fa-credit-card" aria-hidden=true></i> Cartão de Crédito</button>
						<button class="btn btn-default btn-lg col-md-12 no-border"><i class="fa fa-university" aria-hidden=true></i> Boleto</button>
					</div>
					<div style=margin-left:-20px class="col-md-6 pr-40 pl-40 pt-20 pb-20 well no-border">
						<div class=row>

							<div class=col-md-12>
								<div class=form-group>
									<label for=NomeCompleto>Número de parcelas</label><br>
									<select class=custom-input id=NumeroParcelas placeholder="Número do Parcelas">
										<option value="1" ng-bind="'1x de R$ ' + shoppingcart.summary.total||0|real_format"></option>
									</select>
								</div>
							</div>
							<div class=col-md-12>
								<div class=form-group>
									<img src=/madel-assets/img/icons-flags.png class=mb-10 alt="Bandeiras Aceitas">
									<div class=clearfix></div>
									<label for=NomeCompleto>Número do Cartão</label><br>
									<input type=number class=custom-input id=NumeroCartao>
								</div>
							</div>
							<div class=col-md-6>
								<div class=form-group>
									<label for=CPF>Validade</label><br>
									<input type=text class=custom-input id=MesCartao placeholder=00>
								</div>
							</div>
							<div class=col-md-6>
								<div class=form-group>
									<label for=DataNascimento>&nbsp;</label><br>
									<input type=text class=custom-input id=AnoCartao placeholder=00>
								</div>
							</div>
							<div class=col-md-6>
								<div class=form-group>
									<label for=TelefoneFixo>Código de Segurança</label><br>
									<input type=text class=custom-input id=CodigoSeguranca placeholder=000>
								</div>
							</div>
							<div class=clearfix></div>
							<div class=col-md-12>
								<button class="btn primary-btn btn-block" ng-click="shoppingcart.checkout.finish_buy()">FINALIZAR COMPRA</button>
							</div>
						</div>
					</div>
				</div>
			</div>
			{% include 'components/shoppingcart-resume.html' %}
		</div>
		{% include 'components/footer-simple.html' %}
	</body>
</html>
